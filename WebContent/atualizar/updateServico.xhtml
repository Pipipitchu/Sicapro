<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
<h:head>
	<title></title>
</h:head>
<f:metadata>
	<f:event listener="#{usuarioBean.validaUsuario}" type="preRenderView" />
</f:metadata>
<h:body>
	<ui:composition template="/template/common/commonLayout.xhtml">
		<ui:define name="content">
	<h:form style="margin-top:30px">
		<h:panelGrid style="padding:20px" columns="3">
			Servico:
				<p:selectOneMenu id="servico" value="#{servicoBean.servico}" required="true">
					<f:converter converterId="servicoConverter"/>
					<f:selectItem itemValue="" itemLabel=""/>
					<f:selectItems value="#{servicoBean.servicos}" var="servico" itemValue="#{servico}" itemLabel="#{servico.nome}"/>
					<p:ajax execute="@form" update="dadosServico" />
				</p:selectOneMenu>
				<h:messages for="servico" style="color:red"/>
		</h:panelGrid>
	
		<h:panelGrid columns="3" style="padding:20px" id="dadosServico">
			Nome: <p:inputText id="nome" style="margin:5px; width:300px" value="#{servicoBean.servico.nome}" required="true">
				<f:validateLength minimum="5" maximum="50" />
				<f:validateRegex pattern="([a-zA-Z áéíóúàèìòùÁÉÍÓÚÀÈÌÒÙâêîôûÂÊÎÔÛãõÃÕ]){0,50}" />
			</p:inputText>
			<h:messages for="nome" style="color:red"/>
			
			Descrição: <p:inputText id="descricao" style="margin:5px; width:300px" value="#{servicoBean.servico.descricao}" required="true">
				<f:validateLength minimum="3" maximum="50" />
				<f:validateRegex pattern="([a-zA-Z áéíóúàèìòùÁÉÍÓÚÀÈÌÒÙâêîôûÂÊÎÔÛãõÃÕ]){0,50}" />
			</p:inputText>
			<h:messages for="descricao" style="color:red"/>
			
			Prazo: <p:inputText id="prazo" style="margin:5px; width:80px" value="#{servicoBean.servico.prazo}" required="true">
				<f:validateLength minimum="1" maximum="5" />
				<f:convertNumber integerOnly="true" type="number" />
			</p:inputText>
			<h:messages for="prazo" style="color:red"/>
			
			Valor: <p:inputText id="valor" style="margin:5px; width:80px" value="#{servicoBean.servico.valor}" required="true">
				<f:convertNumber minFractionDigits="2" />
			</p:inputText>
			<h:messages for="valor" style="color:red"/>			
						
		</h:panelGrid>
		<h:commandButton style="margin-left:40%; margin-bottom:10px; box-shadow: 2px 2px 5px rgba(0,0,0,0.5);" id="botao" value="Atualizar"
						action="#{servicoBean.atualizarServico}"></h:commandButton>
	</h:form>
	</ui:define>

	</ui:composition>
</h:body>
</html>